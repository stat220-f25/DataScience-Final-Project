---
title: "Final Portfolio Project"
author: "Seth Bonney and Cuong Tran"
format: pdf
geometry: margin=0.75in
---

## Research Question

Will come up soon

```{r}
#| echo: false
#| message: false
#| warning: false

# Data import, cleaning, and basic summaries 
library(tidyverse)
library(janitor)
library(broom)

sleep_raw <- read_csv("Sleep_health_and_lifestyle_dataset.csv")
student_perf_raw <- read_csv("Student_Performance.csv")

sleep <- sleep_raw |>
  clean_names() |> select(
    sleep_duration,                        
    sleep_quality = quality_of_sleep,      
    stress_level,                          
    age,
    gender
  ) |>
  drop_na(sleep_duration, sleep_quality, stress_level)

# 3. Categorize sleep 

sleep <- sleep |>
  mutate(
    sleep_category = case_when(
      sleep_duration < 7 ~ "Short sleep",
      sleep_duration >= 7 & sleep_duration <= 9 ~ "Recommended sleep",
      sleep_duration > 9 ~ "Long sleep",
      TRUE ~ NA_character_
    ),
    sleep_category = factor(
      sleep_category,
      levels = c("Short sleep", "Recommended sleep", "Long sleep")
    )
  )

# 4. Clean student performance dataset

student <- student_perf_raw |>
  clean_names()

student <- student |>
  select(
    performance_index,   
    previous_scores,    
    hours_studied,    
    sleep_hours       
  ) |>
  drop_na(performance_index, previous_scores, hours_studied)

# 5. Simple summaries

sleep_summary <- sleep |>
  summarise(
    mean_sleep   = mean(sleep_duration, na.rm = TRUE),
    median_sleep = median(sleep_duration, na.rm = TRUE),
    sd_sleep     = sd(sleep_duration, na.rm = TRUE),
    mean_stress  = mean(stress_level, na.rm = TRUE)
  )

student_summary <- student |>
  summarise(
    mean_grade   = mean(performance_index, na.rm = TRUE),
    median_grade = median(performance_index, na.rm = TRUE),
    mean_exam    = mean(previous_scores, na.rm = TRUE),
    mean_study   = mean(hours_studied, na.rm = TRUE)
  )

# 6. Correlation matrices

sleep_numeric <- sleep |>
  select(where(is.numeric))

student_numeric <- student |>
  select(where(is.numeric))

```
